<!DOCTYPE html>
<html>

<head>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/3.9.2/math.js"></script>
    <script src="./canvas_plot.js"></script>
</head>

<body>
    <canvas id="canvas" width="640" height="480" style="border:1px solid #d3d3d3">Your browser does not support the HTML5 cnavas element.</canvas>

    <script>
        var canvas = document.getElementById('canvas')
        var plt = new Plot(canvas)
        /* example 1
        plt.plot_function(Math.sin, -Math.PI, Math.PI, 20, 'line')
        plt.color = 'red'
        plt.plot_function(Math.sin, -Math.PI, Math.PI, 20, 'scatter')
        */

        /* example 2
        var x = [-0.8, 0, 0.8]
        var y = [0, 0.8, 0]

        var data = plt.transform_data(x, y)
        
        plt.ctx.beginPath()
        plt.ctx.moveTo(data[0][0], data[1][0])
        plt.ctx.quadraticCurveTo(data[0][1], data[1][1], data[0][2], data[1][2])
        plt.ctx.strokeStyle = 'red'
        plt.ctx.stroke()

        plt.scatter_plot(data)
        */

        var p1 = [320, 240]
        var p2 = [340, 220]
        var p3 = [300, 220]

        var x = [0, 1, 0]
        var y = [0, 0, 1]

        var H = plt.get_H_with_three_points(p1, p2, p3, 320, 240)
        var data = plt.transform_data_with_H(x, y, H)

        // x-axis
        plt.ctx.strokeStyle = 'red'
        plt.ctx.beginPath()
        plt.ctx.moveTo(data[0][0], data[1][0])
        plt.ctx.lineTo(data[0][1], data[1][1])
        plt.ctx.stroke()

        // y-axis
        plt.ctx.strokeStyle = 'green'
        plt.ctx.beginPath()
        plt.ctx.moveTo(data[0][0], data[1][0])
        plt.ctx.lineTo(data[0][2], data[1][2])
        plt.ctx.stroke()
        
        
    </script>
</body>

</html>